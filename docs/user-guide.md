# Mir User Guide

## What is Mir?

Mir is a new way to interface with large language models. It is currently _work-in-progress_.

## Configuration

### How do I configure settings?

The _Settings_ panel can be opened using the gear icon in the top right of the application window, or the "Settings..." menu option in the Application menu.

Note that the Settings panel is shown automatically on app launch until a connection is configured.

### How do I connect Mir to an API?

Open Settings and in the _Connection_ section enter the base API URL (OpenAI `OPENAI_BASE_URL` style). Add the API key if the endpoint requires one.

The base URL should look like

```sh
https://api.openai.com/v1
```

Mir will call the `/chat/completions` path on that base URL. This is the only API endpoint the app currently uses.

Most inference providers, including OpenAI itself, provide support for this so called "Chat completion" endpoint (Anthropic is the notable exception).

You can also optionally specify a model name in Settings (for example `gpt-5.2`). Depending on your inference provider, the model name might be required or optional (if the inference provider has a default model).

### Where is the API key stored?

If secure storage is available on your device, Mir encrypts your key and saves it on your devices' secure storage so that you do not have to re-enter it each time.

If secure storage is not available, Mir keeps your key only for the current session. The key is cleared when the app closes.

### Where is the base URL stored?

The base URL is saved on your device so you do not need to re-enter it.

### What data is sent to the API?

Mir sends the current conversation context to the configured endpoint in a chat-completions format, along with your API key if provided.

### Will my settings sync across devices?

Not yet. Sync is planned and will use end-to-end encryption when it is introduced.

### How do I clear my key?

Delete the API key from the Connection section. If secure storage is available, Mir will remove the saved entry. If not, closing the app also clears it.

## Primitives

### Underlying

LLMs as of today take a string of input tokens, and generates a completion, a string of output tokens.

A common API interface that has come up over this base interface is to break the input into "messages", and treat the output as another message. For the next interaction, the output of the previous interaction becomes part of the input messages.

These input messages are called "context".

What goes into context is entirely up to our imagination.

### Mir

So Mir treats _messages_ and _context_ as underlying primitives.

* **Messages** themselves carry over into the UI as immutable "blocks" of text, written either by a human, or generated by an LLM, or some other alchemy.

* However, the context is not reified until the actual generation. We have an infinite field of messages which can be combined in oh so many ways, but to keep things managable and tangible, messages are grouped into **Collections**.

## Collections

A new collection can be started using the _New Collection_ button on the top bar, or via File -> New Collection (`Ctrl + N` on Linux/Windows, `Cmd + N` on macOS).

A list of collections can be seen in the _Collections_ tab of the sidebar (Use `Ctrl + E` on Linux/Windows, `Cmd + E` on macOS to quickly toggle it on and off).

## Messages

A new message can be added to a collection using the composer at the bottom of the main pane.

### Composing messages

- Press `Enter` to complete the message and generate a response.
- Alternatively, use `Shift + Enter` for a newline. Once your draft has newlines, use `Ctrl + Enter` on Linux/Windows or `Cmd + Enter` on macOS to complete the message and trigger generation.

## Other features

- Mir follows your system light/dark mode automatically.
- Mir is keyboard friendly with handy and documented keyboard shortcuts for various functions.

## Keyboard shortcuts

| Action | Linux/Windows | macOS |
| --- | --- | --- |
| New Collection | Ctrl + N | Cmd + N |
| Open Settings | Ctrl + , | Cmd + , |
| Toggle Side Bar | Ctrl + B | Cmd + B |
| Toggle Collections | Ctrl + E | Cmd + E |
| Toggle Inspect | Ctrl + I | Cmd + I |
| Focus composer | Ctrl + L | Cmd + L |
| Select previous block | Up | Up |
| Select next block / focus composer | Down | Down |
| Clear active block / blur composer | Esc | Esc |
| Generate response | Enter | Enter |
| New line | Shift + Enter | Shift + Enter |
| Generate response (multi-line draft) | Ctrl + Enter | Cmd + Enter |
| Copy active message (no text selection) | Ctrl + C | Cmd + C |
